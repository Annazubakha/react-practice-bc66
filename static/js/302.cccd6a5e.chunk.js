"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[302],{5937:function(e,t,n){n.d(t,{l:function(){return u}});var r=n(9439),a=n(2791),o=n(184),u=function(e){var t=e.addTodo,n=e.text,u=(0,a.useState)(""),c=(0,r.Z)(u,2),s=c[0],i=c[1];return(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s),i("")},style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{children:(0,o.jsx)("input",{value:s,type:"text",name:"query",onChange:function(e){var t=e.target.value;i(t)},required:!0})}),(0,o.jsx)("button",{children:n})]})}},5488:function(e,t,n){n.d(t,{u:function(){return s}});var r=n(6804),a=n(2791),o=n(4164),u=n(184),c=document.querySelector("#modalRoot"),s=function(e){var t=e.closeModal,n=e.children;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,o.createPortal)((0,u.jsx)(r.Y,{onClick:function(e){e.target===e.currentTarget&&t()},children:n}),c)}},8302:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(3433),a=n(5861),o=n(9439),u=n(4687),c=n.n(u),s=n(2791),i=n(5937),l=n(5294).Z.create({baseURL:"https://api.unsplash.com",headers:{common:{Authorization:"Client-ID 4dc0c9edd3f8399861773bf78562a506e26384e3c5d582c06359e3e1c4b70c33"}}}),d=function(){var e=(0,a.Z)(c().mark((function e(t,n){var r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={query:t,page:n,per_page:20,color:"black_and_white",orientation:"portrait"},e.next=3,l.get("/search/photos",{params:r});case 3:return a=e.sent,o=a.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=n(184),p=function(e){var t=e.alt,n=e.small,r=e.full,a=e.openModal;return(0,f.jsx)("li",{onClick:function(){return a(r)},style:{flexBasis:"20%"},children:(0,f.jsx)("img",{src:n,alt:t})})},h=function(e){var t=e.photos,n=e.openModal;return(0,f.jsx)("ul",{style:{display:"flex",flexWrap:"wrap",gap:10,justifyContent:"center"},children:t.map((function(e){var t=e.id,r=e.urls,a=e.alt_description;return(0,f.jsx)(p,{openModal:n,small:r.small,alt:a,full:r.full},t)}))})},x=n(8309),m=n(3579),v=n(5488),j=function(){var e=(0,s.useState)([]),t=(0,o.Z)(e,2),n=t[0],u=t[1],l=(0,s.useState)(""),p=(0,o.Z)(l,2),j=p[0],w=p[1],g=(0,s.useState)(1),k=(0,o.Z)(g,2),y=k[0],b=k[1],Z=(0,s.useState)(!1),S=(0,o.Z)(Z,2),C=S[0],_=S[1],M=(0,s.useState)(!1),q=(0,o.Z)(M,2),E=q[0],L=q[1],T=(0,s.useState)(null),B=(0,o.Z)(T,2),D=B[0],R=B[1],W=(0,s.useState)(!1),z=(0,o.Z)(W,2),A=z[0],F=z[1],I=(0,s.useState)(""),N=(0,o.Z)(I,2),P=N[0],U=N[1];(0,s.useEffect)((function(){j&&(F(!0),(0,a.Z)(c().mark((function e(){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(j,y);case 3:if(t=e.sent,n=t.results,a=t.total,n.length){e.next=9;break}return L(!0),e.abrupt("return");case 9:u((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),_(y<Math.ceil(a/20)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),R(e.t0.message);case 16:return e.prev=16,F(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))())}),[j,y]);var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";U(e)};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(x.$0,{children:(0,f.jsxs)(x.W2,{children:[(0,f.jsx)(i.l,{addTodo:function(e){w(e),L(!1),u([]),b(1),R(null)},text:"Search photos"}),(0,f.jsx)(h,{photos:n,openModal:Y}),A&&(0,f.jsx)(m.a,{}),C&&(0,f.jsx)("button",{onClick:function(){b((function(e){return e+1}))},type:"button",children:"Load more"}),E&&(0,f.jsx)("p",{children:"No photos for your query!"}),D&&(0,f.jsxs)("p",{children:["Sorry, something went wrong ",D]}),P&&(0,f.jsx)(v.u,{closeModal:Y,children:(0,f.jsx)("img",{src:P,alt:"",width:"70%"})})]})})})}}}]);
//# sourceMappingURL=302.cccd6a5e.chunk.js.map