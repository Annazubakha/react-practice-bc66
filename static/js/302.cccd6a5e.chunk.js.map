{"version":3,"file":"static/js/302.cccd6a5e.chunk.js","mappings":"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","sources":["components/Form/Form.jsx","components/Modal/Modal.jsx","api/gallery.js","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGalleryList.jsx","pages/ImageGallery/ImageGallery.jsx"],"sourcesContent":["import { useState } from 'react';\n\nexport const Form = ({ addTodo, text }) => {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    addTodo(query);\n\n    setQuery('');\n  };\n\n  const handleChange = e => {\n    const { value } = e.target;\n    setQuery(value);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} style={{ marginBottom: '20px' }}>\n      <label>\n        <input\n          value={query}\n          type=\"text\"\n          name=\"query\"\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <button>{text}</button>\n    </form>\n  );\n};\n","import { Backdrop } from 'components/Backdrop/Backdrop.styled';\nimport React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modalRoot');\n\nexport const Modal = ({ closeModal, children }) => {\n  useEffect(() => {\n    const handleEscPress = event => {\n      if (event.code === 'Escape') closeModal();\n    };\n    window.addEventListener('keydown', handleEscPress);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscPress);\n    };\n  }, [closeModal]);\n\n  const handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      closeModal();\n    }\n  };\n\n  return createPortal(\n    <Backdrop onClick={handleBackdropClick}>{children}</Backdrop>,\n    modalRoot\n  );\n};\n","import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'https://api.unsplash.com',\n  headers: {\n    common: {\n      Authorization:\n        'Client-ID 4dc0c9edd3f8399861773bf78562a506e26384e3c5d582c06359e3e1c4b70c33',\n    },\n  },\n});\n\nexport const getPhotos = async (query, page) => {\n  const params = {\n    query,\n    page,\n    per_page: 20,\n    color: 'black_and_white',\n    orientation: 'portrait',\n  };\n  const { data } = await instance.get('/search/photos', { params });\n  return data;\n};\n","export const ImageGalleryItem = ({ alt, small, full, openModal }) => {\n  return (\n    <li onClick={() => openModal(full)} style={{ flexBasis: '20%' }}>\n      <img src={small} alt={alt} />\n    </li>\n  );\n};\n","import { ImageGalleryItem } from './ImageGalleryItem';\n\nexport const ImageGalleryList = ({ photos, openModal }) => {\n  return (\n    <ul\n      style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: 10,\n        justifyContent: 'center',\n      }}\n    >\n      {photos.map(({ id, urls, alt_description }) => (\n        <ImageGalleryItem\n          openModal={openModal}\n          key={id}\n          small={urls.small}\n          alt={alt_description}\n          full={urls.full}\n        />\n      ))}\n    </ul>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Form } from 'components/Form/Form';\nimport { getPhotos } from 'api/gallery';\nimport { ImageGalleryList } from 'components/ImageGallery/ImageGalleryList';\nimport { Container, Section } from 'components';\nimport { Loader } from 'components/Loader/Loader';\nimport { Modal } from 'components/Modal/Modal';\n\nconst ImageGallery = () => {\n  const [photos, setPhotos] = useState([]);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [isLoadMore, setIsLoadMore] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [largeImgUrl, setLargeImgUrl] = useState('');\n\n  useEffect(() => {\n    if (!query) return;\n\n    setIsLoading(true);\n\n    (async () => {\n      try {\n        const { results, total } = await getPhotos(query, page);\n\n        if (!results.length) {\n          setIsEmpty(true);\n          return;\n        }\n\n        setPhotos(prev => [...prev, ...results]);\n        setIsLoadMore(page < Math.ceil(total / 20));\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [query, page]);\n\n  const handleSubmit = query => {\n    setQuery(query);\n    setIsEmpty(false);\n    setPhotos([]);\n    setPage(1);\n    setError(null);\n  };\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const handleClickImg = (url = '') => {\n    setLargeImgUrl(url);\n  };\n\n  return (\n    <>\n      <Section>\n        <Container>\n          <Form addTodo={handleSubmit} text=\"Search photos\" />\n          <ImageGalleryList photos={photos} openModal={handleClickImg} />\n          {isLoading && <Loader />}\n          {isLoadMore && (\n            <button onClick={handleLoadMore} type=\"button\">\n              Load more\n            </button>\n          )}\n          {isEmpty && <p>No photos for your query!</p>}\n          {error && <p>Sorry, something went wrong {error}</p>}\n          {largeImgUrl && (\n            <Modal closeModal={handleClickImg}>\n              <img src={largeImgUrl} alt=\"\" width=\"70%\" />\n            </Modal>\n          )}\n        </Container>\n      </Section>\n    </>\n  );\n};\n\nexport default ImageGallery;\n"],"names":["Form","_ref","addTodo","text","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","onSubmit","e","preventDefault","style","marginBottom","children","_jsx","value","type","name","onChange","target","required","modalRoot","document","querySelector","Modal","closeModal","useEffect","handleEscPress","event","code","window","addEventListener","removeEventListener","createPortal","Backdrop","onClick","currentTarget","instance","axios","baseURL","headers","common","Authorization","getPhotos","_asyncToGenerator","_regeneratorRuntime","_callee","page","params","_yield$instance$get","data","_context","prev","next","per_page","color","orientation","get","sent","abrupt","stop","_x","_x2","apply","arguments","ImageGalleryItem","alt","small","full","openModal","flexBasis","src","ImageGalleryList","photos","display","flexWrap","gap","justifyContent","map","_ref2","id","urls","alt_description","setPhotos","_useState3","_useState4","_useState5","_useState6","setPage","_useState7","_useState8","isLoadMore","setIsLoadMore","_useState9","_useState10","isEmpty","setIsEmpty","_useState11","_useState12","error","setError","_useState13","_useState14","isLoading","setIsLoading","_useState15","_useState16","largeImgUrl","setLargeImgUrl","_yield$getPhotos","results","total","length","concat","_toConsumableArray","Math","ceil","t0","message","finish","handleClickImg","url","undefined","_Fragment","Section","Container","Loader","width"],"sourceRoot":""}